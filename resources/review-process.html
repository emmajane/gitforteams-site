<!DOCTYPE html>
<html>
    <head>
        <title>Reviewing and Critiquing Work &mdash; Git for Teams &mdash; Creating efficiency for teams of one or more.</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Git for Teams activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">Git for Teams</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/resources">Articles</a></li>
                                <li><a href="/workshops">Workshops</a></li>
                                <li><a href="/books">The Book</a></li>
                                <li><a href="/videos">The Videos</a></li>
                                <li><a href="/blog">Blog</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                    <article>
<h1>Reviewing and Critiquing Work</h1>

  <div>
    <p>Depending on the size of your project, you probably have a variation on one of following types of review processes (or maybe a combination of several).</p>

<ol>
<li><strong>Peer Review</strong>. We are all equals and equally able to review code and accept it to the project. We learn from one-another and do our best work when we know our peers will be judging it later.</li>
<li><strong>Automated Gatekeeper</strong>. Our code has test coverage. We trust our tests and only submit work we know will pass a comprehensive test suite. Typically we ask for a second opinion before the code is pushed into the test suite (for automated deployment).</li>
<li><strong>Consensus Shepherd</strong>. Our community of coders is vigilant, and opinionated. We require consensus from interested parties before code can be marked as "reviewed by the community". We may also have a testbot which is part of our community, making it easier for human coders to know when a suggested change meets minimum standards.</li>
<li><strong>Benevolent Dictator</strong>. My code, my way. You are welcome to submit your suggestions, but I will review, or have my lieutenants review your work with a fine tooth comb. I enjoy finding your mistakes and rejecting your work. Only perfection is good enough.</li>
</ol>

<p>At this point, the remainder of the document is focused on the peer review scenario.</p>

<h2 id="preparing-to-submit-your-work">Preparing to Submit Your Work</h2>

<p>Help contributors to know at what point they are ready to submit their work for review. Your culture may lean towards show-early-show-often, or perhaps it's show-when-finished. Providing a checklist of what's expected will help increase productivity as only work that's truly ready for <em>your</em> specific process will be submitted for review.</p>

<h3 id="sample-review-checklist">Sample Review Checklist</h3>

<p>The following are questions you may want to add to your checklist. Note: not all of the questions will apply to every work flow. Select only the relevant ones for your process.</p>

<ul>
<li>Does my code conform to our published standards with respect to white space, indentation, inline documentation, (etc)?</li>
<li>Does my code include test coverage?</li>
<li>Does my code pass all unit tests?</li>
<li>Does my commit message include the ticket number for the issue I'm solving?</li>
<li>If manual configuration is required to test the ticket, have I documented these steps (e.g. need to run a hook update for db schema changes)?</li>
<li>Is my ticket branch up-to-date so that there will be no merge conflicts when the ticket is reviewed and rolled into the master branch?</li>
<li>Have I clearly described the expected outcome of applying this ticket through a text description, screen shots, and screen cast (if relevant)?</li>
</ul>

<h2 id="being-a-great-reviewer">Being a Great Reviewer</h2>

<p>Conducting a peer review is a big responsibility. As a team member, the way you conduct your review can impact future dealings with your co-workers, and on open source projects, your review might affect whether or not a volunteer stays involved with the project. It's okay to be strict in your code review though. After all, problems introduced now by someone else, could end up being your problem in the future. When you conduct your review, be sure to keep these tips in mind:</p>

<ol>
<li>Limit your review to the scope of the work. An effective review is laser-focused on the problem that is being worked on. Create follow-up action items (e.g., tickets) for any out-of-scope work that you think needs additional consideration.</li>
<li>Use the project's published standards to conduct your review.</li>
<li>Make your review specific. Address specific lines, or components in your review. Avoid making general, sweeping statements.
Make your review actionable. If it’s not immediately obvious how to implement the change you’ve requested, leave it out of your review.</li>
<li>Deliver your review in a timely manner. The longer you wait to give your review, the more the creator will have to draw from their memory on why certain decisions may have been made.</li>
<li>Make the review as conversational as possible. You just might learn something. My preference is to conduct peer reviews in real time so that I can go through the work with the developer. This isn’t always possible, or desirable, but it can be effective for small teams.</li>
</ol>

<h2 id="conducting-a-peer-review-locally">Conducting a Peer Review Locally</h2>

<p>The following process is adapted from the steps Joe Shindelar developed for the Drupalize.Me team. This process is documented in the Resources section of the repository <a href="https://github.com/DrupalizeMe/workflow-git-workshop">workflow-git-workshop</a>.</p>

<ol>
<li><p>Review the ticket that has been assigned to you. It should include all of the items from the "Review for Review Checklist". If it does not, ask the developer/designer to update the ticket using the checklist.</p></li>
<li><p>Checkout a local copy of the branch relating to the ticket. If you are working from a shared repository, use the following commands:</p></li>
</ol>

<ul>
<li><code>git fetch</code> # downloads the branches</li>
<li><code>git branch -a</code> # show a list of all available branches</li>
<li><code>git checkout NNNN-branch-name</code> # no need to track, as you'll roll this branch into master if it passes review</li>
</ul>

<p>If you are working from a forked repository, you will need to add a new remote before checking out the branch. Use the following commands (GitHub, and Bitbucket-specific commands are available from the resources at the end of this document):</p>

<ul>
<li><code>git remote add &lt;name&gt; git://example.com/&lt;name&gt;/&lt;project&gt;.git</code> # add the contributor's source to your list of remotes</li>
<li><code>git fetch &lt;name&gt;</code> # grab a list of branches for this repository</li>
<li><code>git branch -a</code> # show a list of all available branches</li>
<li><code>git checkout -b NNNN-branch-name remotes/&lt;name&gt;/NNNN-branch-name</code> # no need to track as you are going to push to your own repository after the review</li>
</ul>

<ol start="4">
<li>Complete any steps outlined in the ticket to confirm the branch works "as advertised". If there are any errors, or things are missing, attempt to verify if the problem is on your end (e.g. did you clear cache?). If you cannot replicate what you should be seeing, contact the developer/designer and ask them for help to get your local environment looking like what it should in the ticket.</li>
<li>If you have a test suite, run the tests against the newly downloaded branch.</li>
</ol>

<p>Once you've confirmed the branch is correct and complete it can be merged into the relevant integration branch.</p>

<h2 id="completing-the-pull-request">Completing the Pull Request</h2>

<p>This process assumes you have a staging environment where reviewed code can be reviewed and tested once it has been incorporated into the integration branch (in this case: <code>dev</code>).</p>

<p>Ensure your branch is up-to-date:</p>

<ul>
<li><code>git checkout dev</code></li>
<li><code>git pull</code></li>
<li><code>git checkout NNNN-branch-name</code></li>
<li><code>git rebase dev</code></li>
</ul>

<p>Confirm the branch is still working "as advertised" per the peer review previously conducted.</p>

<p>Merge the branch you've reviewed into dev and push it back up.</p>

<ul>
<li><code>git checkout dev</code></li>
<li><code>git merge --no-ff NNNN-branch-name</code></li>
<li><code>git push</code></li>
</ul>

<p>Complete any additional steps required to sync the database with the new code (e.g. enable new modules). Proceed only once the new code is working in the staging environment.</p>

<p>Leave a comment on the ticket notifying the developer that the code has been reviewed and merged into the integration branch.</p>

<p>Review the ticket carefully before closing it. If there are follow-up tasks outlined in the ticket, update the ticket as follows:</p>

<ul>
<li>update the description of the ticket so that it is clear what the next step is for the ticket</li>
<li>unassign the ticket</li>
<li>move the ticket to the backlog</li>
</ul>

<p>If no follow-up actions are required, close the ticket in the ticket tracker.</p>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="http://programming.oreilly.com/2013/07/six-ways-to-make-your-peer-code-reviews-more-effective.html">Six Ways to Make Your Peer Code Reviews More Effective</a></li>
<li><a href="http://www.oscon.com/oscon2013/public/schedule/detail/28688">Was It Something I Said? The Art of Giving (and getting)  Actionable Critiques</a></li>
<li><a href="http://alistapart.com/article/design-criticism-creative-process">Design Criticism and the Creative Process</a></li>
<li><a href="http://mikeconley.ca/blog/wp-content/uploads/2010/12/Conley_Michael_D_201101_Masters_thesis.pdf">The Wisdom of the Peers</a> Mike Conley's masters thesis</li>
<li><a href="http://blog.smartbear.com/category/code-review/">Code Review</a> blog
posts on SmartBear</li>
<li><a href="http://scottberkun.com/essays/23-how-to-run-a-design-critique/">How to Run a Design Critique</a></li>
<li><a href="http://socorro.readthedocs.org/en/latest/development/reviewprocess.html">Sample Review Process</a></li>
<li><a href="https://github.com/DrupalizeMe/workflow-git-workshop">Drupalize.Me Workflow Documentation</a></li>
<li><a href="https://confluence.atlassian.com/display/BITBUCKET/Work+with+pull+requests">Working With Pull Requests</a> specific to Bitbucket, but provides an excellent overview of what the review process looks like from a source control perspective</li>
<li><a href="https://guides.github.com/introduction/flow/index.html">Understanding the GitHub
Flow</a>
a nice visualization of what it means to complete a ticket /
branch</li>
<li><a href="https://coderwall.com/p/_8dxjw">Merging a GitHub Pull Request Locally</a></li>
<li><a href="https://help.github.com/articles/checking-out-pull-requests-locally">Working with Pull Requests on GitHub</a></li>
<li><a href="http://git-scm.com/book/en/Git-Basics-Working-with-Remotes">Working with Remotes</a></li>
<li><a href="https://www.atlassian.com/git/articles/git-guilt-blame-and-code-review/">Calculating Blame and Guilt in Git with Peer Reviews</a></li>
</ul>

  </div>
</article>
                </div>
                <div class="span4 sidebar">
                    <div class="well text-center">
                        <h4>Available from O'Reilly</h4>
		    </div>
                    <iframe src="http://www.oreilly.com/authors/widgets/674.html" height="500px" width="200px" scrolling="no" frameborder="0"></iframe>
                    <iframe src="http://www.oreilly.com/authors/widgets/671.html" height="500px" width="200px" scrolling="no" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2016 Git for Teams
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
